<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" 
          content="IE=edge">

    <meta name="viewport" 
          content="width=device-width, initial-scale=1.0">

   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- 글꼴(주원 행님이 추천하신 구글 폰트 적용)-->
    <link rel="preconnect"
          href="https://fonts.googleapis.com">

    <link rel="preconnect"
          href="https://fonts.gstatic.com"
          crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&family=Noto+Sans+KR:wght@700&display=swap" 
          rel="stylesheet">


    <!-- CSS와 연계 -->
    <link rel="stylesheet"
          href="/css/index_test.css" />

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
          integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" 
          crossorigin="anonymous"
          referrerpolicy="no-referrer" />

    <!-- Axios CDN(Axios를 사용하기 위함) -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <title>ChatGPT Clone</title>
</head>
<body>
    <!-- Header -->
    <header>
        <img src="assets/img/ENTR_logo.png" 
             alt="로고"
             id="header-logo">

        <a href="/mypage_test.html" 
           class="header-link">
            <h3>winner23456님 안녕하세요!!</h3>
       </a>
    </header>
    
    <!-- Prompt Sidebar-->
    <nav id="sidebar">
        <div class="float-top">
            <!-- 팝업 레이아웃 (New Chat을 클릭할 떄 나타남)--> 
            <div id="new-chat-popup"
                 class="popup"
                 style="display: none;">

                <div class="popup-content">
                    <span class="close-btn"
                          onclick="closePopup()">&times;</span>

                    <h3>새 채팅방 생성</h3>

                    <form id="new-chat-form">
                        <label for="topic">주제:</label>
                        <input type="text" 
                               id="topic"
                               name="topic"><br>

                        <label for="chatroom-name">채팅방명:</label>
                        <input type="text"
                               id="chatroom-name"
                               name="chatroom"><br>

                        <button type="submit"
                                onclick='generateChat(event)'>생성하기</button>
                    </form>
                </div>
            </div>

            <!-- 다른 요소들 사이에 높이 간격을 주기 위한 빈 div -->
            <div style="height: 30px;"></div>
            
            <!-- New Chat -->
            <div class="sidebar-controls">
                <button class="new-chat"
                        style='color:black'
                        onclick="openPopup()">
                        <i class="fa fa-plus" style="margin-right: 10px;"></i>
                        <span>New Chat</span>
                </button>
                <!-- <button class="hide-sidebar"><i class="fa fa-chevron-left"></i></button> -->
            </div>
           
            <!-- 다른 요소들 사이에 높이 간격을 주기 위한 빈 div -->
            <div style="height: 30px;"></div>

            <!-- 채팅방명-->
            <p class='topic'  
               style="color: black; font-weight: bold;">채팅방명</p>
            <ul class="conversations"> <!-- 채팅방명 목록 -->
                <li>
                    <button class="conversation-button"
                            onclick="showChats('gigagenie')">기가지니 뭐 질문 할 게 있는데요?
                    </button>

                    <span class="trash-icon"
                          style='margin-left:5px'>🗑️</span>  
                </li>

                <li>
                    <button class="conversation-button"
                            onclick="showChats('pass')">PASS가 궁금하네 쩝...
                    </button>

                    <span class="trash-icon"
                          style='margin-left:5px'>🗑️</span>
                </li>

                <li>
                    <button class="conversation-button"
                            onclick="showChats('other1')">Other1
                    </button>

                    <span class="trash-icon"
                          style='margin-left:5px'>🗑️</span>
                </li>

                <li>
                    <button class="conversation-button"
                            onclick="showChats('other2')">Other2
                    </button>

                    <span class="trash-icon"
                          style='margin-left:5px'>🗑️</span>
                </li>

                <li>
                    <button class="conversation-button"
                            onclick="showChats('other3')">Other3
                    </button>

                    <span class="trash-icon"
                          style='margin-left:5px'>🗑️</span>
                </li>
                

                <li>
                    <button class="conversation-button"
                            onclick="showChats('other4')">Other4
                    </button>

                    <span class="trash-icon"
                          style='margin-left:5px'>🗑️</span>
                </li>
            </ul>
        </div>

        <!-- User Menu-->
        <div class="user-menu"
             style='margin-bottom:120px;'>
            <!-- 엔터란? -->
            <div class="menu1"
                 style='padding:10px;'
                 onclick='question_enter();'>
                <i class="fa-solid fa-question"></i>
                <span>엔터란?</span>
            </div>

            <!-- AI 설정 -->
            <div class="menu2"
                 style='padding:10px;'
                 onclick='toggleModal()'>
                 <i class="fa-solid fa-gear"></i>
                <span>AI 설정</span>
            </div>

            <!-- 문의 게시판 -->
            <div class="menu3"
                 style='padding:10px;'
                 onclick='goInquiry();'>
                 <i class="fa-solid fa-question"></i>
                <span>문의 게시판</span>
            </div>

            <!-- 로그인/로그아웃 -->
            <div class="menu4"
                style='padding:10px;'
                onclick='goLogin();'>
                <span>로그인</span>
            </div>

            <!-- 로그인/로그아웃 -->
            <div class="menu4"
                style='padding:10px;'
                onclick='goLogout();'>
               <span>로그아웃</span>
            </div>
        </div>
    </nav>
 
    <!-- Prompt Main 화면 -->
    <main>
        <div class="view new-chat-view">  <!-- 상단 -->
            <div class="logo">
                Enter
            </div>
            
        </div>

        <div class="view conversation-view"
             style="flex-grow: 1;  height: auto; overflow-y: auto; margin: 10px; padding:40px;">   <!-- 중간 -->
            <!-- 질문과 대답의 반복 (History) -->

        </div>
 
        <div id="message-form"
             style='display:none; margin-bottom:30px;'>                <!-- 하단 -->
            <div class="message-wrapper">
                <textarea id="message"
                          rows="1"
                          placeholder="Send a message"></textarea>
                <button class="send-button">
                    <i class="fa fa-paper-plane"></i>
                </button>
            </div>

            <div class="disclaimer">This is a ENTER UI for personal use and educational purposes only.</div>
        </div>
    </main>

    <!-- 'AI 설정'을 click하면 나타나는 모달 -->
    <div id="myModal"
         class="modal"
         style='display:none'>
        <!-- 모달 내용 -->
        <div class="modal-content">
            <span class="close"
                    onclick='toggleModal()'>&times;</span>

            <h2>AI 설정</h2>

            <div style='height:20px'></div>

            <div class="modal-body">
                <!-- SideBar-->
                <div class="sidebar-area">
                    <!-- 크롤러 설정 섹션 -->
                    <div class="section" 
                         style='margin-bottom:50px; display: flex; align-items: center; cursor: pointer;'
                         onclick="handleCrawlerClick()">
                        <!-- <img src="assets/img/web-crawler.png" 
                             alt="크롤러 설정" 
                             style="width: 25px; height: 25px; margin-right: 10px;"> -->
                        <p style='font-size:15px; margin: 0;'>크롤러 설정</p>
                    </div>

                    <!-- 템플릿 섹션 -->
                    <div class="section" 
                         style='margin-bottom:50px; display: flex; align-items: center; cursor: pointer;'
                         onclick="handleTemplateClick()">
                        <!-- <img src="assets/img/template.png" 
                             alt="템플릿" 
                             style="width: 25px; height: 25px; margin-right: 10px;"> -->
                        <p style='font-size:15px; margin: 0;'>템플릿</p>
                    </div>

                    <!-- 자주 쓰는 문구 섹션 -->
                    <div class="section" 
                         style='margin-bottom:50px; display: flex; align-items: center; cursor: pointer;'
                         onclick='handleUseClick()'>
                        <!-- <img src="assets/img/template.png" 
                             alt="자주 쓰는 문구" 
                             style="width: 25px; height: 25px; margin-right: 10px;"> -->
                        <p style='font-size:15px; margin: 0;'>자주 쓰는 문구</p>
                    </div>
                </div>

                <!-- Content -->
                <div class="content-area">
                    <!-- '크롤러 설정 click 했을 떄 나옴(일단 class 이름을 popup1-content로 표현)'-->

                    <!-- '템플릿 click 했을 떄 나옴(일단 class 이름을 popup2-content로 표현)'-->

                    <!-- '자주 쓰는 문구 click 했을 떄 나옴'-->
                    <div class="popup3-content"
                         style='display:none'>
                         <!-- 사용자의 자주 쓰는 문구 가져오기(예시) -->
                         <div class='promptTemplate'
                               style="display: flex; align-items: center;">
                                <p style="margin: 0px 10px 0px 0px; width: 100px;">예시 문구</p>

                                <input type='text' 
                                        placeholder='ex) KT 기가지니에 전반적인 장점이 무엇이니?'
                                        disabled>
                    
                                <div style="margin-left: 20px;"></div>  <!-- 간격 -->    
                         </div>
                        
                        <!-- 사용자의 자주 쓰는 문구 가져오기  -->
                        <div class='promptTemplate'
                             style="display: flex; align-items: center;">
                             <input type="checkbox"
                                    style="width:30px; margin-right: 10px;"> <!-- 체크박스 추가 -->
    
                             <p style="margin: 0px 10px 0px 0px; width: 100px;">문구</p>

                             <div style="margin-left: 20px;"></div>  <!-- 간격 -->    
    
                             <input type='text' 
                                    placeholder='자주쓰는 문구에 대한 Text를 불러와야 합니다.'>

                             <button type="button"
                                     style="background-color: #ffcccc; color: black; padding: 5px 10px; border: none; border-radius: 5px; margin-left: 10px; width: 120px;"
                                     onclick="deleteTemplate(this)">삭제하기</button>
                
                             <div style="margin-left: 20px;"></div>  <!-- 간격 -->    
                        </div>
  
                        <!-- 사용자의 자주 쓰는 문구 가져오기 추가 (버튼들을 위한 하나의 div 앞에 배치해야 한다.) -->


                        <!-- 버튼들을 위한 하나의 div -->
                        <div style="display: flex; justify-content: flex-end;">
                            <span class="add"
                                onclick="addTemplate()">추가하기</span>

                            <span class="reflect"
                                onclick="">반영하기</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JS와 연계 -->
    <script src="/js/index_test.js"></script>
</body>
</html>